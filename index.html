<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Shivjayanti 2026 Control</title>

<style>

body{
margin:0;
font-family:Poppins, sans-serif;
background:#000;
color:white;
padding:15px;
}

h1{
text-align:center;
color:gold;
margin-bottom:25px;
}

.team{
background:#111;
border:2px solid gold;
border-radius:15px;
padding:15px;
margin-bottom:15px;
box-shadow:0 0 10px rgba(255,215,0,.4);
}

.team-name{
font-size:18px;
font-weight:bold;
}

.points{
font-size:22px;
color:#00ffcc;
margin:8px 0;
}

.buttons{
display:flex;
gap:10px;
}

button{
flex:1;
padding:12px;
font-size:18px;
border:none;
border-radius:10px;
color:white;
font-weight:bold;
}

.plus{background:green;}
.minus{background:red;}

</style>
</head>

<body>

<h1>ðŸ”¥ Score Control Panel ðŸ”¥</h1>

<div id="teamsContainer"></div>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<script>

const firebaseConfig = {
apiKey: "AIzaSyBT9ON2wC-Clvfle4sLBzN_JSG2Og_B5-E",
authDomain: "shivjayanti-quiz.firebaseapp.com",
projectId: "shivjayanti-quiz",
storageBucket: "shivjayanti-quiz.firebasestorage.app",
messagingSenderId: "1038697528085",
appId: "1:1038697528085:web:546edadee7e1ffd4cd071c",
measurementId: "G-4KDV2RHM93"
};

firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

const teamsContainer = document.getElementById("teamsContainer");

function loadTeams(){

db.collection("teams").onSnapshot(snapshot => {

teamsContainer.innerHTML = "";

snapshot.forEach(doc => {

let team = doc.data();

let div = document.createElement("div");
div.className = "team";

div.innerHTML = `
<div class="team-name">${team.name}</div>
<div class="points">Points: ${team.points}</div>
<div class="buttons">
<button class="plus" onclick="updatePoints('${doc.id}',5)">+5</button>
<button class="minus" onclick="updatePoints('${doc.id}',-5)">-5</button>
</div>
`;

teamsContainer.appendChild(div);

});

});

}

function updatePoints(id,value){

let ref = db.collection("teams").doc(id);

db.runTransaction(transaction=>{
return transaction.get(ref).then(doc=>{
if(!doc.exists) return;

let newPoints = (doc.data().points || 0) + value;

transaction.update(ref,{points:newPoints});
});
});

}

loadTeams();

</script>

</body>
</html>
